cmake_minimum_required(VERSION 3.24)
project(wiesel-parent)

set(CMAKE_CXX_STANDARD 23)

set(PARENT_DIR ${CMAKE_CURRENT_SOURCE_DIR})
set(PARENT_BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR})
set(VENDOR_DIR ${PARENT_DIR}/vendor)

find_package(Vulkan REQUIRED)
set(GLFW_BUILD_DOCS OFF CACHE BOOL "" FORCE)
set(GLFW_BUILD_TESTS OFF CACHE BOOL "" FORCE)
set(GLFW_BUILD_EXAMPLES OFF CACHE BOOL "" FORCE)
add_subdirectory(${VENDOR_DIR}/glfw)
set(ASSIMP_BUILD_NO_EXPORT ON CACHE BOOL "" FORCE)
set(ASSIMP_BUILD_TESTS OFF CACHE BOOL "" FORCE)
set(ASSIMP_INJECT_DEBUG_POSTFIX OFF CACHE BOOL "" FORCE)
set(ASSIMP_INSTALL OFF CACHE BOOL "" FORCE)
set(ASSIMP_BUILD_NO_M3D_IMPORTER ON CACHE BOOL "" FORCE)
set(ASSIMP_BUILD_NO_M3D_EXPORTER ON CACHE BOOL "" FORCE)
set(ASSIMP_BUILD_NO_PBRT_EXPORTER ON CACHE BOOL "" FORCE)
set(ASSIMP_WARNINGS_AS_ERRORS OFF CACHE BOOL "" FORCE)
add_subdirectory(${VENDOR_DIR}/assimp)
add_subdirectory(${VENDOR_DIR}/freetype)
add_subdirectory(${VENDOR_DIR}/entt)
add_subdirectory(${VENDOR_DIR}/filedialog)
add_subdirectory(${VENDOR_DIR}/fmt)
set(ENABLE_HLSL ON CACHE BOOL "" FORCE)
set(ENABLE_GLSLANG_INSTALL ON CACHE BOOL "" FORCE)
add_subdirectory(${VENDOR_DIR}/glslang)
add_subdirectory(${VENDOR_DIR}/luabridge3)
add_subdirectory(wiesel)

# examples
add_subdirectory(examples/demo)
